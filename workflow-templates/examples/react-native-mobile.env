# ============================================================================
# React Native Mobile App - Configuration Example
# ============================================================================
# Configuration for React Native mobile applications with iOS/Android builds
# ============================================================================

# ----------------------------------------------------------------------------
# REPOSITORY INFORMATION
# ----------------------------------------------------------------------------
REPO_OWNER="your-github-username"
REPO_NAME="awesome-mobile-app"
MAIN_BRANCH="main"
DEV_BRANCH="development"
PROD_BRANCH="production"

# ----------------------------------------------------------------------------
# PROJECT CONFIGURATION
# ----------------------------------------------------------------------------
PROJECT_TYPE="react-native"
PRIMARY_LANGUAGE="typescript"
PACKAGE_MANAGER="npm"

# ----------------------------------------------------------------------------
# BUILD & TEST COMMANDS
# ----------------------------------------------------------------------------
INSTALL_CMD="npm install"
BUILD_CMD="npm run build"
TEST_CMD="npm test"
LINT_CMD="npm run lint"
TYPE_CHECK_CMD="npm run tsc"

# React Native specific commands
IOS_BUILD_CMD="cd ios && pod install && cd .. && npx react-native build-ios"
ANDROID_BUILD_CMD="cd android && ./gradlew assembleRelease"

# ----------------------------------------------------------------------------
# MOBILE PLATFORM SETTINGS
# ----------------------------------------------------------------------------
# Target platforms
TARGET_PLATFORMS="ios,android"

# iOS Configuration
IOS_BUNDLE_ID="com.company.app"
IOS_TEAM_ID="XXXXXXXXXX"
IOS_PROVISIONING_PROFILE="App Store"
IOS_EXPORT_METHOD="app-store"

# Android Configuration
ANDROID_PACKAGE_NAME="com.company.app"
ANDROID_KEYSTORE_ALIAS="release"
ANDROID_STORE_FILE="release.keystore"

# ----------------------------------------------------------------------------
# EXPO/EAS CONFIGURATION (if using Expo)
# ----------------------------------------------------------------------------
USE_EXPO="true"
EAS_PROJECT_ID="your-eas-project-id"
EAS_BUILD_PROFILE="production"

# EAS Build Commands
EAS_BUILD_IOS="eas build --platform ios --profile production"
EAS_BUILD_ANDROID="eas build --platform android --profile production"
EAS_SUBMIT_IOS="eas submit --platform ios"
EAS_SUBMIT_ANDROID="eas submit --platform android"

# ----------------------------------------------------------------------------
# BRANCH PROTECTION SETTINGS
# ----------------------------------------------------------------------------
PROD_REQUIRE_REVIEWS=true
PROD_REQUIRED_APPROVALS=2
PROD_REQUIRE_SIGNED_COMMITS=true
PROD_REQUIRE_STATUS_CHECKS=true
PROD_REQUIRED_CHECKS="test,lint,type-check,ios-build,android-build"

MAIN_REQUIRE_REVIEWS=true
MAIN_REQUIRED_APPROVALS=1
MAIN_REQUIRE_STATUS_CHECKS=true
MAIN_REQUIRED_CHECKS="test,lint,type-check"

DEV_REQUIRE_STATUS_CHECKS=true
DEV_REQUIRED_CHECKS="test,lint"

# ----------------------------------------------------------------------------
# SECURITY SETTINGS
# ----------------------------------------------------------------------------
ENABLE_DEPENDABOT=true
ENABLE_CODEQL=true
ENABLE_SECRET_SCANNING=true
REQUIRE_CODEOWNERS=true
CODEOWNERS_PATH=".github/CODEOWNERS"

# Mobile-specific security
ENABLE_APP_STORE_REVIEW=true
ENABLE_PLAY_STORE_REVIEW=true

# ----------------------------------------------------------------------------
# CI/CD PROVIDER
# ----------------------------------------------------------------------------
CI_PROVIDER="github-actions"
ENABLE_AUTO_DEPLOY=true

# Use Fastlane for deployments
USE_FASTLANE=true
FASTLANE_IOS_LANE="ios beta"
FASTLANE_ANDROID_LANE="android beta"

# ----------------------------------------------------------------------------
# DEPLOYMENT SETTINGS
# ----------------------------------------------------------------------------
# Development (TestFlight/Internal Testing)
DEV_DEPLOY_URL="testflight://beta.itunes.apple.com/v1/app/YOUR_APP_ID"
DEV_IOS_DEPLOY="testflight"
DEV_ANDROID_DEPLOY="internal"

# Staging (External Beta)
STAGING_DEPLOY_URL="testflight://beta.itunes.apple.com/v1/app/YOUR_APP_ID"
STAGING_IOS_DEPLOY="testflight-external"
STAGING_ANDROID_DEPLOY="beta"

# Production (App Store/Play Store)
PROD_DEPLOY_URL="https://apps.apple.com/app/YOUR_APP_ID"
PROD_IOS_DEPLOY="app-store"
PROD_ANDROID_DEPLOY="production"

# Deployment platform
DEPLOY_PLATFORM="app-stores"

# Auto-deploy settings
AUTO_DEPLOY_DEV=true
AUTO_DEPLOY_STAGING=true
PROD_MANUAL_APPROVAL=true

# ----------------------------------------------------------------------------
# APP STORE CONFIGURATION
# ----------------------------------------------------------------------------
# Apple App Store Connect
APP_STORE_CONNECT_API_KEY_ID="XXXXXXXXXX"
APP_STORE_CONNECT_ISSUER_ID="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
APP_STORE_CONNECT_TEAM_ID="XXXXXXXXXX"

# Google Play Console
GOOGLE_PLAY_SERVICE_ACCOUNT_JSON="google-play-service-account.json"
GOOGLE_PLAY_PACKAGE_NAME="${ANDROID_PACKAGE_NAME}"
GOOGLE_PLAY_TRACK="internal"

# ----------------------------------------------------------------------------
# CODE SIGNING
# ----------------------------------------------------------------------------
# iOS Code Signing
IOS_CERTIFICATE_TYPE="ios_distribution"
IOS_MATCH_GIT_URL="https://github.com/your-org/certificates"
IOS_MATCH_TYPE="appstore"

# Android Code Signing
ANDROID_KEYSTORE_PASSWORD_SECRET="ANDROID_KEYSTORE_PASSWORD"
ANDROID_KEY_PASSWORD_SECRET="ANDROID_KEY_PASSWORD"

# ----------------------------------------------------------------------------
# NOTIFICATION SETTINGS
# ----------------------------------------------------------------------------
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/WEBHOOK/URL"
DISCORD_WEBHOOK_URL=""
NOTIFICATION_EMAIL="team@company.com"

# Mobile-specific notifications
NOTIFY_ON_BUILD_COMPLETE=true
NOTIFY_ON_STORE_SUBMISSION=true
NOTIFY_ON_STORE_APPROVAL=true

# ----------------------------------------------------------------------------
# VERSIONING & RELEASE NOTES
# ----------------------------------------------------------------------------
# Semantic versioning
VERSION_STRATEGY="semantic"
AUTO_INCREMENT_BUILD_NUMBER=true

# Release notes
GENERATE_RELEASE_NOTES=true
RELEASE_NOTES_FROM_COMMITS=true

# ----------------------------------------------------------------------------
# ADDITIONAL SETTINGS
# ----------------------------------------------------------------------------
REQUIRE_LINEAR_HISTORY=false
ALLOW_SQUASH_MERGE=true
ALLOW_MERGE_COMMIT=false
ALLOW_REBASE_MERGE=true
DELETE_BRANCH_ON_MERGE=true

# ----------------------------------------------------------------------------
# TESTING CONFIGURATION
# ----------------------------------------------------------------------------
# Unit testing
RUN_UNIT_TESTS=true
UNIT_TEST_COVERAGE_THRESHOLD=80

# E2E Testing (Detox, Appium, etc.)
RUN_E2E_TESTS=true
E2E_TEST_PLATFORM="detox"
E2E_IOS_SIMULATOR="iPhone 14"
E2E_ANDROID_EMULATOR="Pixel_5_API_31"

# ----------------------------------------------------------------------------
# PERFORMANCE MONITORING
# ----------------------------------------------------------------------------
# App monitoring services
SENTRY_DSN="https://xxxxx@sentry.io/xxxxx"
FIREBASE_PROJECT_ID="your-firebase-project"
ENABLE_CRASHLYTICS=true
ENABLE_PERFORMANCE_MONITORING=true

# ----------------------------------------------------------------------------
# AI REFACTORING SETTINGS
# ----------------------------------------------------------------------------
AI_PROVIDER="claude"
AI_MODEL="claude-3-sonnet"
AI_MAX_TOKENS=4000
AI_TEMPERATURE=0.2
